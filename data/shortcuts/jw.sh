#!/bin/zsh

# Define the list of URLs as a multiline string
urls="
ad:cerca
ae:search
ag:search
al:kërko
ao:busca
ar:buscar
at:Suche
au:search
az:axtarış
ba:traži
bb:search
be:recherche
bf:recherche
bg:search
bh:search
bm:search
bo:buscar
br:busca
bs:search
by:пошук
bz:search
ca:search
cd:recherche
ch:Suche
ci:recherche
cl:buscar
cm:search
co:buscar
cr:buscar
cu:buscar
cv:busca
cy:search
cz:vyhledání
de:Suche
dk:search
do:buscar
dz:search
ec:buscar
ee:otsing
eg:search
es:buscar
fi:etsi
fj:search
fr:recherche
gf:recherche
gg:search
gh:search
gi:search
gq:buscar
gr:search
gt:buscar
gy:search
hk:search
hn:buscar
hr:pretraživanje
hu:search
id:search
ie:search
il:search
in:search
iq:search
is:leita
it:cerca
jm:search
jo:search
jp:検索
ke:search
kr:검색
kw:search
lb:search
lc:search
li:Suche
lt:search
lu:recherche
lv:search
ly:search
ma:search
mc:recherche
md:search
me:pretraga
mg:recherche
mk:пребарување
ml:recherche
mt:fittex
mu:recherche
mw:search
mx:buscar
my:search
mz:busca
ne:recherche
ng:search
ni:buscar
nl:search
no:search
nz:search
om:search
pa:buscar
pe:buscar
pf:recherche
pg:search
ph:search
pk:search
pl:search
ps:search
pt:busca
py:buscar
qa:search
ro:search
rs:pretraga
ru:поиск
sa:search
sc:recherche
se:search
sg:search
si:iskanje
sk:vyhľadávať
sm:cerca
sn:recherche
sv:buscar
tc:search
td:search
th:search
tn:search
tr:arama
tt:search
tw:search
tz:tafuta
ua:пошук
ug:search
gb:search
us:search
uy:buscar
va:cerca
ve:buscar
xk:kërko
ye:search
za:search
zm:search
zw:search
"

# Iterate over each line in the urls string
echo "$urls" | while IFS=":" read -r country search_term; do
  file=".$country.yml"
  url="https://www.justwatch.com/$country/$search_term?q=<query>"
  string_to_append="jw 1:\n  url: $url\n  include:\n    key: jw 0\n    namespace: o\n  examples:\n  - arguments: simpsons\n    description: Search for \"simpsons\"\n"
	

  # Append the string to the corresponding file
  echo -e "$string_to_append" >> "$file"
done
